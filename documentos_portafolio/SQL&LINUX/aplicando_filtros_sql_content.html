<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Aplicando Filtros SQL - Guía de Seguridad</title>
  <meta name="description" content="Contenido de un documento del portafolio." />
  <meta name="theme-color" content="#0b1220" />
  <style>
    :root{
      --bg:#0b1220; --panel:#0f172a; --muted:#94a3b8; --text:#e5e7eb; --brand:#38bdf8; --accent:#22c55e; --danger:#ef4444; --card:#111827;
      --ring: rgba(56,189,248,.35);
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{margin:0;background:radial-gradient(1200px 600px at 75% -10%,#0d1b2a00 30%,#0d1b2a66 60%,#0b1220 100%),var(--bg);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
    a{color:var(--brand);text-decoration:none}
    a:hover{text-decoration:underline}
    header{position:sticky;top:0;backdrop-filter:saturate(180%) blur(10px);background:rgba(11,18,32,.6);border-bottom:1px solid #1f2937;z-index:50}
    .nav{max-width:1100px;margin:auto;display:flex;align-items:center;gap:16px;padding:10px 16px}
    .nav .logo{font-weight:700;letter-spacing:.4px}
    .nav a{color:#cbd5e1;margin-left:auto}
    .nav ul{display:flex;gap:18px;list-style:none;margin:0 0 0 24px;padding:0}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:10px 14px;border-radius:12px;border:1px solid #1f2937;background:linear-gradient(180deg,#111827,#0b1220);color:#e5e7eb}
    .btn:hover{box-shadow:0 0 0 4px var(--ring)}
    .btn.brand{border-color:#0ea5e9;background:linear-gradient(180deg,#0ea5e933,#0ea5e908)}
    .btn.ghost{background:transparent;border-color:#1f2937}
    .container{max-width:1100px;margin:auto;padding:56px 16px}
    .hero{padding:80px 16px 72px;background:radial-gradient(1000px 400px at 10% -10%,#0ea5e922,transparent),radial-gradient(800px 500px at 90% 10%,#22c55e22,transparent)}
    .hero h1{font-size:clamp(32px,4.5vw,56px);line-height:1.1;margin:0 0 14px}
    .hero p.lead{color:var(--muted);font-size:clamp(16px,2.2vw,20px);max-width:800px}
    .chip{display:inline-block;padding:6px 10px;border-radius:999px;border:1px solid #1f2937;background:#0d1322;color:#a5b4fc;font-size:12px;letter-spacing:.4px}
    .stack{display:flex;flex-wrap:wrap;gap:10px;margin:16px 0}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
    .card{background:linear-gradient(180deg,#0f172a,#0b1220);border:1px solid #172036;border-radius:16px;padding:18px}
    .shadow{box-shadow:0 10px 30px -15px rgba(0,0,0,.5)}
    .section-title{font-size:22px;margin:0 0 6px}
    .muted{color:var(--muted)}
    .skills{display:flex;flex-wrap:wrap;gap:10px}
    .skill{padding:8px 10px;border:1px solid #1f2937;background:#0b1220;border-radius:10px}
    .kpis{display:flex;gap:16px;flex-wrap:wrap;margin:14px 0}
    .kpi{flex:1 1 160px;border:1px solid #172036;background:#0b1220;border-radius:14px;padding:14px;text-align:center}
    .kpi b{font-size:22px}
    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
    .pill{font-size:12px;border:1px solid #1f2937;border-radius:999px;padding:4px 8px;color:#93c5fd}
    footer{border-top:1px solid #1f2937;padding:40px 16px;color:#94a3b8}
    .timeline{position:relative;padding-left:22px}
    .timeline:before{content:"";position:absolute;left:9px;top:0;bottom:0;width:2px;background:#1f2937}
    .tl{position:relative;margin:0 0 18px}
    .tl:before{content:"";position:absolute;left:-2px;top:5px;width:10px;height:10px;border-radius:50%;background:#38bdf8;box-shadow:0 0 0 3px #0b1220}
    .badge-row{display:flex;gap:8px;flex-wrap:wrap}
    .bad{background:#0b1220;border:1px solid #1f2937;border-radius:8px;padding:6px 8px;font-size:12px;color:#cbd5e1}
    .cta{display:flex;gap:10px;flex-wrap:wrap;margin-top:18px}
    @media (max-width:680px){.nav ul{display:none}}
    pre { background-color: #0f172a; padding: 1em; border-radius: 0.5em; overflow-x: auto; color: #e5e7eb; }
  </style>
</head>
<body>
  <header>
    <nav class="nav">
      <div class="logo">🔐 Michel Macías</div>
      <ul>
        <li><a href="../../index.html">Inicio</a></li>
        <li><a href="../../curriculum/Declaración.md">Curriculum</a></li>
        <li><a href="../../documentos_portafolio/portfolio/habilidades&tecnicas.md">Portafolio</a></li>
        <li><a href="../../glosario/Curso1/Curso1mod1.md">Glosario</a></li>
        <li><a href="../../herramientas_ciberseguridad/SIEM/Herramientas_SIEM.md">Herramientas</a></li>
      </ul>
      <a class="btn" href="../../index.html">Volver a Inicio</a>
    </nav>
  </header>

  <section class="container">
    <h1>Portfolio Ciberseguridad. SQL & Filtros</h1>

    <p>Usted es un profesional de seguridad en una gran organización. Parte de su trabajo es investigar problemas de seguridad para ayudar a mantener el sistema seguro. Recientemente descubrió algunos problemas potenciales de seguridad que involucran intentos de inicio de sesión y máquinas de empleados.</p>

    <p>Su tarea es examinar los datos de la organización en sus tablas <code>employees</code> y <code>log_in_attempts</code>. Deberá utilizar filtros SQL para recuperar registros de diferentes conjuntos de datos e investigar los posibles problemas de seguridad.</p>

    <h2>Formatos de Tablas</h2>

    <p>Este documento describe cómo se organizan las tablas utilizadas para esta actividad de portfolio. La base de datos de la organización contiene las siguientes dos tablas:</p>

    <ul>
        <li><code>log_in_attempts</code></li>
        <li><code>employees</code></li>
    </ul>

    <h3>Tabla <code>log_in_attempts</code></h3>
    <p>La tabla <code>log_in_attempts</code> tiene las siguientes columnas:</p>
    <ul>
        <li><strong>event_id:</strong> El número de identificación asignado a cada evento de inicio de sesión.</li>
        <li><strong>username:</strong> El nombre de usuario del empleado.</li>
        <li><strong>login_date:</strong> La fecha en que se registró el intento de inicio de sesión.</li>
        <li><strong>login_time:</strong> La hora en que se registró el intento de inicio de sesión.</li>
        <li><strong>country:</strong> El país donde ocurrió el intento de inicio de sesión.</li>
        <li><strong>ip_address:</strong> La dirección IP de la máquina de ese empleado.</li>
        <li><strong>success:</strong> El éxito del intento de inicio de sesión; <code>FALSE</code> indica un intento fallido.</li>
    </ul>
    <p>En la consola de MariaDB, estas columnas se devuelven como:</p>
<pre><code>" event_id | username |
","login_date | login_time | country | ip_address  success |
 +
"
</code></pre>

    <h3>Tabla <code>employees</code></h3>
    <p>La tabla <code>employees</code> tiene las siguientes columnas:</p>
    <ul>
        <li><strong>employee_id:</strong> El número de identificación asignado a cada empleado.</li>
        <li><strong>device_id:</strong> El número de identificación asignado a cada dispositivo utilizado por el empleado.</li>
        <li><strong>username:</strong> El nombre de usuario del empleado.</li>
        <li><strong>department:</strong> El departamento en el que se encuentra el empleado.</li>
        <li><strong>office:</strong> La oficina donde se encuentra el empleado.</li>
    </ul>
    <p>En la consola de MariaDB, estas columnas se devuelven como:</p>
<pre><code> employee_id | device_id  username | department   office
</code></pre>

    <hr>

    <h2>Recuperar Intentos de Acceso Fallidos Después de Horas</h2>
    <p>Recientemente ha descubierto un posible incidente de seguridad ocurrido fuera del horario laboral. Para investigarlo, necesita consultar la tabla <code>log_in_attempts</code> y revisar la actividad de inicio de sesión fuera del horario laboral. Utilice filtros en SQL para crear una consulta que identifique todos los intentos de inicio de sesión fallidos que se produjeron después de las 18:00. (La hora del intento de inicio de sesión se encuentra en la columna <code>login_time</code>. La columna <code>success</code> contiene un valor de 0 cuando un intento de inicio de sesión falló; puede utilizar un valor de 0 o <code>FALSE</code> en su consulta para identificar los intentos de inicio de sesión fallidos)</p>
    <p>Describa su consulta y cómo funciona en la sección "Recuperar tras horas de intentos de inicio de sesión fallidos" de la plantilla "Aplicar filtros a consultas SQL".</p>

    <hr>

    <h2>Recuperar los Intentos de Inicio de Sesión en Fechas Concretas</h2>
    <p>Un evento sospechoso ocurrió el 2022-05-09. Para investigar este evento, desea revisar todos los intentos de inicio de sesión que se produjeron ese día y el día anterior. Utilice filtros en SQL para crear una consulta que identifique todos los intentos de inicio de sesión que se produjeron el 2022-05-09 o el 2022-05-08. (La fecha del intento de inicio de sesión se encuentra en la columna <code>login_date</code>). (La fecha del intento de inicio de sesión se encuentra en la columna <code>login_date</code>)</p>
    <p>Describa su consulta y cómo funciona en la sección "Recuperar intentos de inicio de sesión en fechas específicas" de la plantilla "Aplicar filtros a consultas SQL".</p>

    <hr>

    <h2>Recuperar Intentos de Inicio de Sesión Fuera de México</h2>
    <p>Ha habido actividad sospechosa con intentos de inicio de sesión, pero el equipo ha determinado que esta actividad no se originó en México. Ahora, necesita investigar los intentos de inicio de sesión que ocurrieron fuera de México. Utilice filtros en SQL para crear una consulta que identifique todos los intentos de inicio de sesión que se produjeron fuera de México. Describa su consulta y cómo funciona en la sección "Recuperar intentos de inicio de sesión en fechas específicas" de la plantilla "Aplicar filtros a consultas SQL".</p>

    <hr>

    <h2>Recuperar Empleados en Marketing</h2>
    <p>Su equipo desea realizar actualizaciones de seguridad en máquinas específicas de empleados en el departamento de Marketing. Usted es responsable de obtener información sobre estos equipos de empleados y necesitará consultar la tabla de empleados. Utilice filtros en SQL para crear una consulta que identifique a todos los empleados del departamento de Marketing de todas las oficinas del edificio Este.</p>
    <p>(El departamento del empleado se encuentra en la columna <code>departamento</code>, que contiene valores que incluyen Marketing. La oficina se encuentra en la columna <code>oficina</code>. Algunos ejemplos de valores en esta columna son Este-170, Este-320 y Norte-434. Tendrá que utilizar la palabra clave <code>LIKE</code> con <code>%</code> para filtrar el edificio Este)</p>
    <p>Describa su consulta y cómo funciona en la sección "Recuperar empleados en Marketing" de la plantilla "Aplicar filtros a consultas SQL".</p>

    <hr>

    <h2>Recuperar Empleados en Finanzas o Ventas</h2>
    <p>Su equipo necesita ahora realizar una actualización de seguridad diferente en las máquinas para los empleados de los departamentos de Ventas y Finanzas. Utilice filtros en SQL para crear una consulta que identifique a todos los empleados de los departamentos de Ventas o Finanzas. (El departamento del empleado se encuentra en la columna <code>departamento</code>, que contiene valores que incluyen Ventas y Finanzas)</p>
    <p>Describa su consulta y cómo funciona en la sección "Recuperar empleados en Finanzas o Ventas" de la plantilla "Aplicar filtros a consultas SQL".</p>

    <hr>

    <h2>Recuperar a Todos los Empleados que No Estén en IT</h2>
    <p>Su equipo necesita realizar una actualización más en las máquinas de los empleados. Los empleados que pertenecen al departamento de tecnología de la información ya han recibido esta actualización, pero los empleados de todos los demás departamentos la necesitan. Utilice filtros en SQL para crear una consulta que identifique a todos los empleados que no pertenezcan al departamento de informática. (El departamento del empleado se encuentra en la columna <code>departamento</code>, que contiene valores que incluyen Tecnología de la información)</p>
    <p>Describa su consulta y cómo funciona en la sección "Recuperar todos los empleados que no pertenecen a TI" de la plantilla "Aplicar filtros a consultas SQL".</p>

    
    <div class="main-container">
        <!-- Título principal -->
        <h1>Aplicando Filtros SQL para la Seguridad</h1>

        <div class="content-card">
            <h2 id="project-description">Descripción del Proyecto</h2>
            <p>
                Este proyecto se enfoca en la aplicación de <strong>consultas SQL para la investigación y detección de posibles problemas de seguridad</strong> dentro de una organización. A través del análisis de las bases de datos <code>employees</code> y <code>log_in_attempts</code>, se desarrollaron consultas para identificar:
            </p>
            <ul>
                <li><span class="check-icon">☑</span> Intentos de acceso fallidos fuera del horario laboral.</li>
                <li><span class="check-icon">☑</span> Empleados que han iniciado sesión desde ubicaciones inusuales.</li>
                <li><span class="check-icon">☑</span> Intentos de acceso desde múltiples direcciones IP en un corto período de tiempo.</li>
                <li><span class="check-icon">☑</span> Empleados de departamentos específicos para aplicar medidas de seguridad.</li>
                <li><span class="check-icon">☑</span> Empleados que aún requieren actualizaciones en sus dispositivos.</li>
            </ul>
            <p>
                Este trabajo demuestra habilidades clave en <strong>seguridad informática, análisis de datos y optimización de consultas SQL</strong>, proporcionando información crítica para la protección de la infraestructura de TI de una empresa. Se incluyen recomendaciones de seguridad para mitigar posibles amenazas, asegurando un enfoque proactivo en la gestión de accesos y dispositivos corporativos.
            </p>
        </div>

        <div class="content-card">
            <h2 id="failed-logins-after-hours">Recuperar Intentos de Inicio de Sesión Fallidos Fuera de Horario</h2>
            <h3>Consulta SQL para identificar intentos de inicio de sesión fallidos después del horario laboral:</h3>
<pre><code>SELECT event_id, username, login_date, login_time, country,
       ip_address, success
FROM log_in_attempts
WHERE login_time > '18:00:00'
AND success = 0;
</code></pre>
            <h4>Explicación de la consulta:</h4>
            <ol>
                <li><strong><code>SELECT event_id, username, login_date, login_time, country, ip_address, success</code></strong>
                    <p>Extraemos las columnas relevantes de la tabla <code>log_in_attempts</code> para analizar los intentos fallidos.</p>
                </li>
                <li><strong><code>FROM log_in_attempts</code></strong>
                    <p>Especificamos la tabla que contiene los registros de intentos de inicio de sesión.</p>
                </li>
                <li><strong><code>WHERE login_time > '18:00:00'</code></strong>
                    <p>Filtramos los registros donde la hora del intento de inicio de sesión (<code>login_time</code>) es después de las 18:00 (6:00 PM).</p>
                </li>
                <li><strong><code>AND success = 0</code></strong>
                    <p>La columna <code>success</code> es de tipo TINYINT (1), lo que significa que puede almacenar valores 0 (fallido) o 1 (exitoso). Filtramos solo los intentos de inicio de sesión que fallaron (<code>success = 0</code>).</p>
                </li>
            </ol>
            <h4>Posibles Mejoras y Análisis Adicional:</h4>
            <ul class="list-none">
                <li><span class="check-icon">✅</span> <strong>Ordenar los resultados para priorizar la investigación:</strong>
<pre><code>ORDER BY login_date DESC, login_time DESC;
</code></pre>
                    <p>Esto permitirá ver primero los intentos más recientes.</p>
                </li>
                <li><span class="check-icon">✅</span> <strong>Investigar intentos desde países inusuales:</strong>
<pre><code>WHERE login_time > '18:00:00'
AND success = 0
AND country NOT IN ('USA', 'Mexico', 'Canada');
</code></pre>
                    <p>Esto ayuda a detectar intentos desde ubicaciones sospechosas.</p>
                </li>
                <li><span class="check-icon">✅</span> <strong>Cruzar datos con la tabla <code>employees</code> para ver el departamento del usuario:</strong>
<pre><code>SELECT l.event_id, l.username, e.department, l.login_date,
       l.login_time, l.country, l.ip_address
FROM log_in_attempts l
JOIN employees e ON l.username = e.username
WHERE l.login_time > '18:00:00'
AND l.success = 0;
</code></pre>
                    <p>Esto permitirá identificar si ciertos departamentos están siendo atacados con más frecuencia.</p>
                </li>
            </ul>
            <div class="info-box">
                <h4 class="mb-2 text-blue-100">Conclusión</h4>
                <p>Esta consulta ayuda a detectar actividad sospechosa fuera del horario laboral, lo que podría indicar intentos de acceso no autorizados. Si se identifican múltiples intentos fallidos para el mismo usuario o desde una ubicación desconocida, sería recomendable investigar más a fondo y posiblemente bloquear las direcciones IP sospechosas.</p>
                <p><strong>Acción recomendada:</strong> Si la consulta devuelve múltiples intentos fallidos para un mismo usuario desde distintas ubicaciones, es posible que su cuenta esté siendo objeto de un ataque de fuerza bruta. Se recomienda bloquear temporalmente la cuenta y notificar al usuario afectado.</p>
            </div>
        </div>

        <div class="content-card">
            <h2 id="login-attempts-specific-dates">Recuperar Intentos de Inicio de Sesión en Fechas Específicas</h2>
            <p>Para investigar los intentos de inicio de sesión que ocurrieron los días <strong>2022-05-09 y 2022-05-08</strong>, podemos utilizar la cláusula <code>WHERE</code> en SQL para filtrar los registros por la columna <code>login_date</code>.</p>
            <h3>Consulta SQL:</h3>
<pre><code>SELECT event_id, username, login_date, login_time, country,
       ip_address, success
FROM log_in_attempts
WHERE login_date IN ('2022-05-09', '2022-05-08');
</code></pre>
            <h4>Explicación de la consulta:</h4>
            <ol>
                <li><strong><code>SELECT event_id, username, login_date, login_time, country, ip_address, success</code></strong>
                    <p>Extraemos los datos más relevantes de la tabla <code>log_in_attempts</code> para el análisis.</p>
                </li>
                <li><strong><code>FROM log_in_attempts</code></strong>
                    <p>Especificamos la tabla de la que se tomarán los datos.</p>
                </li>
                <li><strong><code>WHERE login_date IN ('2022-05-09', '2022-05-08')</code></strong>
                    <p>Filtramos los registros para obtener solo aquellos intentos de inicio de sesión que ocurrieron en las fechas 2022-05-09 y 2022-05-08. La cláusula <code>IN</code> nos permite especificar múltiples valores de fecha sin necesidad de usar múltiples condiciones <code>OR</code>.</p>
                </li>
            </ol>
            <h4>Posibles Mejoras y Extensiones:</h4>
            <ul class="list-none">
                <li><span class="check-icon">✅</span> <strong>Ordenar los resultados para facilitar el análisis:</strong>
<pre><code>ORDER BY login_date DESC, login_time DESC;
</code></pre>
                    <p>Esto nos ayuda a ver primero los intentos más recientes.</p>
                </li>
                <li><span class="check-icon">✅</span> <strong>Incluir solo intentos fallidos para detectar posibles ataques:</strong>
<pre><code>WHERE login_date IN ('2022-05-09', '2022-05-08')
AND success = 0;
</code></pre>
                    <p>Esto filtrará solo los intentos fallidos (<code>success = 0</code>), lo cual es útil para detectar intentos de acceso no autorizados.</p>
                </li>
                <li><span class="check-icon">✅</span> <strong>Ampliar el rango de fechas si es necesario:</strong>
                    <p>Si queremos incluir más días antes o después, podemos usar <code>BETWEEN</code> en lugar de <code>IN</code>:</p>
<pre><code>WHERE login_date BETWEEN '2022-05-07' AND '2022-05-09';
</code></pre>
                </li>
            </ul>
            <div class="info-box">
                <h4 class="mb-2 text-blue-100">Conclusión</h4>
                <p>Esta consulta permite investigar actividad sospechosa en fechas específicas. Si se detectan múltiples intentos de inicio de sesión fallidos desde ubicaciones inusuales, esto podría indicar un posible ataque de fuerza bruta o acceso no autorizado, por lo que se recomienda realizar un análisis más detallado de las IPs y los usuarios involucrados.</p>
            </div>
        </div>

        <div class="content-card">
            <h2 id="login-attempts-outside-mexico">Recuperar Intentos de Inicio de Sesión Fuera de México</h2>
            <p>Para investigar los intentos de inicio de sesión que no se originaron en México, utilizaremos la cláusula <code>WHERE</code> con el operador <strong><code><></code></strong> o <strong><code>NOT IN</code></strong> para excluir a México de los resultados.</p>
            <h3>Consulta SQL:</h3>
<pre><code>SELECT event_id, username, login_date, login_time, country,
       ip_address, success
FROM log_in_attempts
WHERE country <> 'Mexico';
</code></pre>
            <h4>Explicación de la consulta:</h4>
            <ol>
                <li><strong><code>SELECT event_id, username, login_date, login_time, country, ip_address, success</code></strong>
                    <p>Seleccionamos las columnas más relevantes de la tabla <code>log_in_attempts</code> para analizar los registros sospechosos.</p>
                </li>
                <li><strong><code>FROM log_in_attempts</code></strong>
                    <p>Especificamos la tabla de donde extraemos los datos.</p>
                </li>
                <li><strong><code>WHERE country <> 'Mexico'</code></strong>
                    <p>Filtramos los registros para excluir los intentos de inicio de sesión que provienen de México (<code><></code> significa "distinto de"). Solo se mostrarán los intentos de inicio de sesión que ocurrieron en otros países.</p>
                </li>
            </ol>
            <h4>Alternativa con <code>NOT IN</code> (si hay más países a excluir):</h4>
            <p>Si en el futuro queremos excluir más países (por ejemplo, México y EE.UU.), podemos usar <code>NOT IN</code>:</p>
<pre><code>WHERE country NOT IN ('Mexico', 'USA');
</code></pre>
            <h4>Posibles Mejoras y Extensiones:</h4>
            <ul class="list-none">
                <li><span class="check-icon">✅</span> <strong>Ordenar los intentos de inicio de sesión por fecha y hora para priorizar la investigación:</strong>
<pre><code>ORDER BY login_date DESC, login_time DESC;
</code></pre>
                </li>
                <li><span class="check-icon">✅</span> <strong>Incluir solo intentos fallidos para detectar posibles ataques:</strong>
<pre><code>WHERE country <> 'Mexico'
AND success = 0;
</code></pre>
                    <p>Esto filtrará solo los intentos fallidos (<code>success = 0</code>), lo cual es útil para detectar accesos no autorizados.</p>
                </li>
                <li><span class="check-icon">✅</span> <strong>Ampliar la consulta para ver intentos en un rango de fechas específico:</strong>
<pre><code>WHERE country <> 'Mexico'
AND login_date BETWEEN '2024-02-01' AND '2024-02-29';
</code></pre>
                </li>
                <li><span class="check-icon">✅</span> <strong>Cruzar datos con la tabla <code>employees</code> para obtener información adicional sobre los usuarios:</strong>
<pre><code>SELECT l.event_id, l.username, e.department, l.login_date,
       l.login_time, l.country, l.ip_address
FROM log_in_attempts l
JOIN employees e ON l.username = e.username
WHERE l.country <> 'Mexico';
</code></pre>
                    <p>Esto ayuda a identificar si ciertos departamentos están siendo objetivo de intentos de acceso desde el extranjero.</p>
                </li>
            </ul>
            <div class="info-box">
                <h4 class="mb-2 text-blue-100">Conclusión</h4>
                <p>Esta consulta nos permitirá detectar intentos de inicio de sesión fuera de México, lo que puede indicar actividad sospechosa si los empleados normalmente inician sesión solo desde este país. Si se identifican intentos recurrentes desde ubicaciones desconocidas, puede ser señal de un ataque de fuerza bruta o de credenciales comprometidas, lo que requeriría tomar medidas como bloquear las IPs sospechosas o forzar cambios de contraseñas.</p>
            </div>
        </div>

        <div class="content-card">
            <h2 id="employees-in-marketing">Recuperar Empleados en Marketing</h2>
            <p>Para obtener información sobre los empleados del departamento de <strong>Marketing que trabajan en cualquier oficina del edificio Este</strong>, podemos utilizar la cláusula <code>WHERE</code> con las condiciones adecuadas en SQL.</p>
            <h3>Consulta SQL:</h3>
<pre><code>SELECT employee_id, device_id, username, department, office
FROM employees
WHERE department = 'Marketing'
AND office LIKE 'Este-%';
</code></pre>
            <h4>Explicación de la consulta:</h4>
            <ol>
                <li><strong><code>SELECT employee_id, device_id, username, department, office</code></strong>
                    <p>Seleccionamos las columnas relevantes de la tabla <code>employees</code> para identificar a los empleados de Marketing y sus dispositivos.</p>
                </li>
                <li><strong><code>FROM employees</code></strong>
                    <p>Especificamos la tabla de donde se tomarán los datos.</p>
                </li>
                <li><strong><code>WHERE department = 'Marketing'</code></strong>
                    <p>Filtramos para obtener solo los empleados cuyo departamento es "Marketing".</p>
                </li>
                <li><strong><code>AND office LIKE 'Este-%'</code></strong>
                    <p>La columna <code>office</code> contiene valores como "Este-170", "Este-320", etc. <code>LIKE 'Este-%'</code> selecciona todas las oficinas que comienzan con "Este-", asegurando que solo obtenemos los empleados del edificio Este, sin importar el número de oficina.</p>
                </li>
            </ol>
            <h4>Posibles Mejoras y Extensiones:</h4>
            <ul class="list-none">
                <li><span class="check-icon">✅</span> <strong>Ordenar los resultados para facilitar la revisión:</strong>
<pre><code>ORDER BY office, username;
</code></pre>
                    <p>Esto organizará la lista por oficina y por nombre de usuario.</p>
                </li>
                <li><span class="check-icon">✅</span> <strong>Cruzar datos con la tabla <code>machines</code> para obtener detalles sobre los dispositivos de estos empleados:</strong>
<pre><code>SELECT e.employee_id, e.username, e.department, e.office,
       m.device_id, m.operating_system, m.os_patch_date
FROM employees e
JOIN machines m ON e.device_id = m.device_id
WHERE e.department = 'Marketing'
AND e.office LIKE 'Este-%';
</code></pre>
                    <p>Esto nos permitirá obtener información adicional sobre los sistemas operativos y parches de seguridad de los equipos asignados a estos empleados.</p>
                </li>
            </ul>
            <div class="info-box">
                <h4 class="mb-2 text-blue-100">Conclusión</h4>
                <p>Esta consulta nos ayudará a identificar a los empleados del departamento de Marketing en el edificio Este, lo que es clave para coordinar actualizaciones de seguridad en sus dispositivos. Si encontramos empleados con sistemas desactualizados, podemos priorizar sus máquinas para recibir los parches de seguridad lo antes posible.</p>
            </div>
        </div>

        <div class="content-card">
            <h2 id="employees-in-finance-or-sales">Recuperar Empleados en Finanzas o Ventas</h2>
            <h3>Consulta SQL para recuperar empleados en Finanzas o Ventas:</h3>
<pre><code>SELECT employee_id, username, department, device_id, office
FROM employees
WHERE department IN ('Ventas', 'Finanzas');
</code></pre>
            <h4>Explicación de la consulta:</h4>
            <ol>
                <li><strong><code>SELECT employee_id, username, department, device_id, office</code></strong>
                    <p>Extraemos las columnas relevantes de la tabla <code>employees</code> para identificar los empleados y sus dispositivos asignados.</p>
                </li>
                <li><strong><code>FROM employees</code></strong>
                    <p>Especificamos que la información proviene de la tabla <code>employees</code>.</p>
                </li>
                <li><strong><code>WHERE department IN ('Ventas', 'Finanzas')</code></strong>
                    <p>Filtramos los registros para incluir solo a los empleados cuyo departamento sea Ventas o Finanzas. La condición <code>IN ('Ventas', 'Finanzas')</code> es equivalente a usar <code>department = 'Ventas' OR department = 'Finanzas'</code>, pero más eficiente y fácil de leer.</p>
                </li>
            </ol>
            <h4>Posibles Mejoras y Análisis Adicional:</h4>
            <ul class="list-none">
                <li><span class="check-icon">☑</span> <strong>Ordenar los resultados por oficina para facilitar la gestión:</strong>
<pre><code>ORDER BY office, username;
</code></pre>
                    <p>Esto agrupa los resultados por ubicación de la oficina y los ordena alfabéticamente por usuario.</p>
                </li>
                <li><span class="check-icon">☑</span> <strong>Verificar empleados sin un <code>device_id</code> asignado:</strong>
<pre><code>WHERE department IN ('Ventas', 'Finanzas') AND device_id IS NULL;
</code></pre>
                    <p>Esto ayuda a identificar empleados que no tienen un dispositivo registrado, lo cual puede ser un riesgo de seguridad.</p>
                </li>
                <li><span class="check-icon">☑</span> <strong>Cruzar con la tabla <code>log_in_attempts</code> para detectar accesos sospechosos:</strong>
<pre><code>SELECT e.employee_id, e.username, e.department, l.ip_address,
       l.login_date, l.success
FROM employees e
JOIN log_in_attempts l ON e.username = l.username
WHERE e.department IN ('Ventas', 'Finanzas')
AND l.success = 0;
</code></pre>
                    <p>Esto permite ver qué empleados de estos departamentos han tenido intentos fallidos de inicio de sesión recientemente.</p>
                </li>
            </ul>
            <div class="info-box">
                <h4 class="mb-2 text-blue-100">Conclusión</h4>
                <p>Esta consulta permite identificar a los empleados de Ventas y Finanzas para aplicar actualizaciones de seguridad específicas en sus dispositivos. Además, cruzar esta información con los intentos de acceso puede revelar posibles riesgos de seguridad.</p>
                <p><strong>Acción recomendada:</strong></p>
                <ul class="list-disc list-inside ml-4">
                    <li>Aplicar parches de seguridad en los dispositivos de estos empleados.</li>
                    <li>Investigar intentos de inicio de sesión fallidos en estos departamentos.</li>
                    <li>Asegurar que cada empleado tenga un <code>device_id</code> registrado en la base de datos.</li>
                </ul>
            </div>
        </div>

        <div class="content-card">
            <h2 id="employees-not-in-it">Recuperar Todos los Empleados que No Están en TI</h2>
            <h3>Consulta SQL para recuperar a todos los empleados que no estén en Tecnología de la Información:</h3>
<pre><code>SELECT employee_id, username, department, device_id, office
FROM employees
WHERE department <> 'Tecnología de la Información';
</code></pre>
            <h4>Explicación de la consulta:</h4>
            <ol>
                <li><strong><code>SELECT employee_id, username, department, device_id, office</code></strong>
                    <p>Extraemos las columnas clave de la tabla <code>employees</code> para identificar a los empleados y sus dispositivos asignados.</p>
                </li>
                <li><strong><code>FROM employees</code></strong>
                    <p>Indicamos que la información proviene de la tabla <code>employees</code>.</p>
                </li>
                <li><strong><code>WHERE department <> 'Tecnología de la Información'</code></strong>
                    <p>Excluimos a los empleados que pertenecen al departamento de Tecnología de la Información. El operador <code><></code> significa "distinto de", por lo que solo se seleccionarán empleados que no estén en este departamento.</p>
                </li>
            </ol>
            <h4>Posibles Mejoras y Análisis Adicional:</h4>
            <ul class="list-none">
                <li><span class="check-icon">✅</span> <strong>Ordenar los resultados por departamento para facilitar la gestión:</strong>
<pre><code>ORDER BY department, office, username;
</code></pre>
                    <p>Esto agrupa los empleados por departamento y oficina, permitiendo aplicar la actualización de manera organizada.</p>
                </li>
                <li><span class="check-icon">✅</span> <strong>Verificar empleados sin <code>device_id</code> asignado para evitar problemas en la actualización:</strong>
<pre><code>WHERE department <> 'Tecnología de la Información' AND device_id IS NULL;
</code></pre>
                    <p>Esto ayuda a identificar empleados que no tienen un dispositivo registrado, lo cual puede requerir una revisión antes de la actualización.</p>
                </li>
                <li><span class="check-icon">✅</span> <strong>Cruzar con la tabla <code>log_in_attempts</code> para verificar intentos de acceso recientes:</strong>
<pre><code>SELECT e.employee_id, e.username, e.department, l.ip_address,
       l.login_date, l.success
FROM employees e
JOIN log_in_attempts l ON e.username = l.username
WHERE e.department <> 'Tecnología de la Información'
AND l.success = 0;
</code></pre>
                    <p>Esto permite identificar si alguno de estos empleados ha tenido intentos fallidos de inicio de sesión, lo que podría indicar problemas de seguridad.</p>
                </li>
            </ul>
            <div class="error-box">
                <h4 class="mb-2 text-red-100"><span class="alert-icon">🚨</span> Conclusión</h4>
                <p>Esta consulta permite identificar a los empleados que aún necesitan actualizaciones en sus dispositivos, asegurando que solo aquellos fuera del departamento de TI reciban los parches correspondientes. Estas consultas permiten mejorar la seguridad del sistema y optimizar la gestión de accesos y dispositivos en la empresa. <span class="rocket-icon">🚀</span></p>
            </div>
        </div>
    </div>
  </section>

  <footer>
    <div class="container">© <span id="y"></span> Michel Macías · Ciberseguridad
      <span class="muted" style="float:right">Hecho con GitHub Pages</span>
    </div>
  </footer>
  <script>document.getElementById('y').textContent=new Date().getFullYear()</script>
</body>
</html>