<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Aplicando Filtros SQL - Gu√≠a de Seguridad</title>
  <meta name="description" content="Contenido de un documento del portafolio." />
  <meta name="theme-color" content="#0b1220" />
  <style>
    :root{
      --bg:#0b1220; --panel:#0f172a; --muted:#94a3b8; --text:#e5e7eb; --brand:#38bdf8; --accent:#22c55e; --danger:#ef4444; --card:#111827;
      --ring: rgba(56,189,248,.35);
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{margin:0;background:radial-gradient(1200px 600px at 75% -10%,#0d1b2a00 30%,#0d1b2a66 60%,#0b1220 100%),var(--bg);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
    a{color:var(--brand);text-decoration:none}
    a:hover{text-decoration:underline}
    header{position:sticky;top:0;backdrop-filter:saturate(180%) blur(10px);background:rgba(11,18,32,.6);border-bottom:1px solid #1f2937;z-index:50}
    .nav{max-width:1100px;margin:auto;display:flex;align-items:center;gap:16px;padding:10px 16px}
    .nav .logo{font-weight:700;letter-spacing:.4px}
    .nav a{color:#cbd5e1;margin-left:auto}
    .nav ul{display:flex;gap:18px;list-style:none;margin:0 0 0 24px;padding:0}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:10px 14px;border-radius:12px;border:1px solid #1f2937;background:linear-gradient(180deg,#111827,#0b1220);color:#e5e7eb}
    .btn:hover{box-shadow:0 0 0 4px var(--ring)}
    .btn.brand{border-color:#0ea5e9;background:linear-gradient(180deg,#0ea5e933,#0ea5e908)}
    .btn.ghost{background:transparent;border-color:#1f2937}
    .container{max-width:1100px;margin:auto;padding:56px 16px}
    .hero{padding:80px 16px 72px;background:radial-gradient(1000px 400px at 10% -10%,#0ea5e922,transparent),radial-gradient(800px 500px at 90% 10%,#22c55e22,transparent)}
    .hero h1{font-size:clamp(32px,4.5vw,56px);line-height:1.1;margin:0 0 14px}
    .hero p.lead{color:var(--muted);font-size:clamp(16px,2.2vw,20px);max-width:800px}
    .chip{display:inline-block;padding:6px 10px;border-radius:999px;border:1px solid #1f2937;background:#0d1322;color:#a5b4fc;font-size:12px;letter-spacing:.4px}
    .stack{display:flex;flex-wrap:wrap;gap:10px;margin:16px 0}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
    .card{background:linear-gradient(180deg,#0f172a,#0b1220);border:1px solid #172036;border-radius:16px;padding:18px}
    .shadow{box-shadow:0 10px 30px -15px rgba(0,0,0,.5)}
    .section-title{font-size:22px;margin:0 0 6px}
    .muted{color:var(--muted)}
    .skills{display:flex;flex-wrap:wrap;gap:10px}
    .skill{padding:8px 10px;border:1px solid #1f2937;background:#0b1220;border-radius:10px}
    .kpis{display:flex;gap:16px;flex-wrap:wrap;margin:14px 0}
    .kpi{flex:1 1 160px;border:1px solid #172036;background:#0b1220;border-radius:14px;padding:14px;text-align:center}
    .kpi b{font-size:22px}
    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
    .pill{font-size:12px;border:1px solid #1f2937;border-radius:999px;padding:4px 8px;color:#93c5fd}
    footer{border-top:1px solid #1f2937;padding:40px 16px;color:#94a3b8}
    .timeline{position:relative;padding-left:22px}
    .timeline:before{content:"";position:absolute;left:9px;top:0;bottom:0;width:2px;background:#1f2937}
    .tl{position:relative;margin:0 0 18px}
    .tl:before{content:"";position:absolute;left:-2px;top:5px;width:10px;height:10px;border-radius:50%;background:#38bdf8;box-shadow:0 0 0 3px #0b1220}
    .badge-row{display:flex;gap:8px;flex-wrap:wrap}
    .bad{background:#0b1220;border:1px solid #1f2937;border-radius:8px;padding:6px 8px;font-size:12px;color:#cbd5e1}
    .cta{display:flex;gap:10px;flex-wrap:wrap;margin-top:18px}
    @media (max-width:680px){.nav ul{display:none}}
    pre { background-color: #0f172a; padding: 1em; border-radius: 0.5em; overflow-x: auto; color: #e5e7eb; }
  </style>
</head>
<body>
  <header>
    <nav class="nav">
      <div class="logo">üîê Michel Mac√≠as</div>
      <ul>
        <li><a href="../../index.html">Inicio</a></li>
        <li><a href="../../curriculum/Declaraci√≥n.md">Curriculum</a></li>
        <li><a href="../../documentos_portafolio/portfolio/habilidades&tecnicas.md">Portafolio</a></li>
        <li><a href="../../glosario/Curso1/Curso1mod1.md">Glosario</a></li>
        <li><a href="../../herramientas_ciberseguridad/SIEM/Herramientas_SIEM.md">Herramientas</a></li>
      </ul>
      <a class="btn" href="../../index.html">Volver a Inicio</a>
    </nav>
  </header>

  <section class="container">
    <h1>Portfolio Ciberseguridad. SQL & Filtros</h1>

    <p>Usted es un profesional de seguridad en una gran organizaci√≥n. Parte de su trabajo es investigar problemas de seguridad para ayudar a mantener el sistema seguro. Recientemente descubri√≥ algunos problemas potenciales de seguridad que involucran intentos de inicio de sesi√≥n y m√°quinas de empleados.</p>

    <p>Su tarea es examinar los datos de la organizaci√≥n en sus tablas <code>employees</code> y <code>log_in_attempts</code>. Deber√° utilizar filtros SQL para recuperar registros de diferentes conjuntos de datos e investigar los posibles problemas de seguridad.</p>

    <h2>Formatos de Tablas</h2>

    <p>Este documento describe c√≥mo se organizan las tablas utilizadas para esta actividad de portfolio. La base de datos de la organizaci√≥n contiene las siguientes dos tablas:</p>

    <ul>
        <li><code>log_in_attempts</code></li>
        <li><code>employees</code></li>
    </ul>

    <h3>Tabla <code>log_in_attempts</code></h3>
    <p>La tabla <code>log_in_attempts</code> tiene las siguientes columnas:</p>
    <ul>
        <li><strong>event_id:</strong> El n√∫mero de identificaci√≥n asignado a cada evento de inicio de sesi√≥n.</li>
        <li><strong>username:</strong> El nombre de usuario del empleado.</li>
        <li><strong>login_date:</strong> La fecha en que se registr√≥ el intento de inicio de sesi√≥n.</li>
        <li><strong>login_time:</strong> La hora en que se registr√≥ el intento de inicio de sesi√≥n.</li>
        <li><strong>country:</strong> El pa√≠s donde ocurri√≥ el intento de inicio de sesi√≥n.</li>
        <li><strong>ip_address:</strong> La direcci√≥n IP de la m√°quina de ese empleado.</li>
        <li><strong>success:</strong> El √©xito del intento de inicio de sesi√≥n; <code>FALSE</code> indica un intento fallido.</li>
    </ul>
    <p>En la consola de MariaDB, estas columnas se devuelven como:</p>
<pre><code>" event_id | username |
","login_date | login_time | country | ip_address  success |
 +
"
</code></pre>

    <h3>Tabla <code>employees</code></h3>
    <p>La tabla <code>employees</code> tiene las siguientes columnas:</p>
    <ul>
        <li><strong>employee_id:</strong> El n√∫mero de identificaci√≥n asignado a cada empleado.</li>
        <li><strong>device_id:</strong> El n√∫mero de identificaci√≥n asignado a cada dispositivo utilizado por el empleado.</li>
        <li><strong>username:</strong> El nombre de usuario del empleado.</li>
        <li><strong>department:</strong> El departamento en el que se encuentra el empleado.</li>
        <li><strong>office:</strong> La oficina donde se encuentra el empleado.</li>
    </ul>
    <p>En la consola de MariaDB, estas columnas se devuelven como:</p>
<pre><code> employee_id | device_id  username | department   office
</code></pre>

    <hr>

    <h2>Recuperar Intentos de Acceso Fallidos Despu√©s de Horas</h2>
    <p>Recientemente ha descubierto un posible incidente de seguridad ocurrido fuera del horario laboral. Para investigarlo, necesita consultar la tabla <code>log_in_attempts</code> y revisar la actividad de inicio de sesi√≥n fuera del horario laboral. Utilice filtros en SQL para crear una consulta que identifique todos los intentos de inicio de sesi√≥n fallidos que se produjeron despu√©s de las 18:00. (La hora del intento de inicio de sesi√≥n se encuentra en la columna <code>login_time</code>. La columna <code>success</code> contiene un valor de 0 cuando un intento de inicio de sesi√≥n fall√≥; puede utilizar un valor de 0 o <code>FALSE</code> en su consulta para identificar los intentos de inicio de sesi√≥n fallidos)</p>
    <p>Describa su consulta y c√≥mo funciona en la secci√≥n "Recuperar tras horas de intentos de inicio de sesi√≥n fallidos" de la plantilla "Aplicar filtros a consultas SQL".</p>

    <hr>

    <h2>Recuperar los Intentos de Inicio de Sesi√≥n en Fechas Concretas</h2>
    <p>Un evento sospechoso ocurri√≥ el 2022-05-09. Para investigar este evento, desea revisar todos los intentos de inicio de sesi√≥n que se produjeron ese d√≠a y el d√≠a anterior. Utilice filtros en SQL para crear una consulta que identifique todos los intentos de inicio de sesi√≥n que se produjeron el 2022-05-09 o el 2022-05-08. (La fecha del intento de inicio de sesi√≥n se encuentra en la columna <code>login_date</code>). (La fecha del intento de inicio de sesi√≥n se encuentra en la columna <code>login_date</code>)</p>
    <p>Describa su consulta y c√≥mo funciona en la secci√≥n "Recuperar intentos de inicio de sesi√≥n en fechas espec√≠ficas" de la plantilla "Aplicar filtros a consultas SQL".</p>

    <hr>

    <h2>Recuperar Intentos de Inicio de Sesi√≥n Fuera de M√©xico</h2>
    <p>Ha habido actividad sospechosa con intentos de inicio de sesi√≥n, pero el equipo ha determinado que esta actividad no se origin√≥ en M√©xico. Ahora, necesita investigar los intentos de inicio de sesi√≥n que ocurrieron fuera de M√©xico. Utilice filtros en SQL para crear una consulta que identifique todos los intentos de inicio de sesi√≥n que se produjeron fuera de M√©xico. Describa su consulta y c√≥mo funciona en la secci√≥n "Recuperar intentos de inicio de sesi√≥n en fechas espec√≠ficas" de la plantilla "Aplicar filtros a consultas SQL".</p>

    <hr>

    <h2>Recuperar Empleados en Marketing</h2>
    <p>Su equipo desea realizar actualizaciones de seguridad en m√°quinas espec√≠ficas de empleados en el departamento de Marketing. Usted es responsable de obtener informaci√≥n sobre estos equipos de empleados y necesitar√° consultar la tabla de empleados. Utilice filtros en SQL para crear una consulta que identifique a todos los empleados del departamento de Marketing de todas las oficinas del edificio Este.</p>
    <p>(El departamento del empleado se encuentra en la columna <code>departamento</code>, que contiene valores que incluyen Marketing. La oficina se encuentra en la columna <code>oficina</code>. Algunos ejemplos de valores en esta columna son Este-170, Este-320 y Norte-434. Tendr√° que utilizar la palabra clave <code>LIKE</code> con <code>%</code> para filtrar el edificio Este)</p>
    <p>Describa su consulta y c√≥mo funciona en la secci√≥n "Recuperar empleados en Marketing" de la plantilla "Aplicar filtros a consultas SQL".</p>

    <hr>

    <h2>Recuperar Empleados en Finanzas o Ventas</h2>
    <p>Su equipo necesita ahora realizar una actualizaci√≥n de seguridad diferente en las m√°quinas para los empleados de los departamentos de Ventas y Finanzas. Utilice filtros en SQL para crear una consulta que identifique a todos los empleados de los departamentos de Ventas o Finanzas. (El departamento del empleado se encuentra en la columna <code>departamento</code>, que contiene valores que incluyen Ventas y Finanzas)</p>
    <p>Describa su consulta y c√≥mo funciona en la secci√≥n "Recuperar empleados en Finanzas o Ventas" de la plantilla "Aplicar filtros a consultas SQL".</p>

    <hr>

    <h2>Recuperar a Todos los Empleados que No Est√©n en IT</h2>
    <p>Su equipo necesita realizar una actualizaci√≥n m√°s en las m√°quinas de los empleados. Los empleados que pertenecen al departamento de tecnolog√≠a de la informaci√≥n ya han recibido esta actualizaci√≥n, pero los empleados de todos los dem√°s departamentos la necesitan. Utilice filtros en SQL para crear una consulta que identifique a todos los empleados que no pertenezcan al departamento de inform√°tica. (El departamento del empleado se encuentra en la columna <code>departamento</code>, que contiene valores que incluyen Tecnolog√≠a de la informaci√≥n)</p>
    <p>Describa su consulta y c√≥mo funciona en la secci√≥n "Recuperar todos los empleados que no pertenecen a TI" de la plantilla "Aplicar filtros a consultas SQL".</p>

    
    <div class="main-container">
        <!-- T√≠tulo principal -->
        <h1>Aplicando Filtros SQL para la Seguridad</h1>

        <div class="content-card">
            <h2 id="project-description">Descripci√≥n del Proyecto</h2>
            <p>
                Este proyecto se enfoca en la aplicaci√≥n de <strong>consultas SQL para la investigaci√≥n y detecci√≥n de posibles problemas de seguridad</strong> dentro de una organizaci√≥n. A trav√©s del an√°lisis de las bases de datos <code>employees</code> y <code>log_in_attempts</code>, se desarrollaron consultas para identificar:
            </p>
            <ul>
                <li><span class="check-icon">‚òë</span> Intentos de acceso fallidos fuera del horario laboral.</li>
                <li><span class="check-icon">‚òë</span> Empleados que han iniciado sesi√≥n desde ubicaciones inusuales.</li>
                <li><span class="check-icon">‚òë</span> Intentos de acceso desde m√∫ltiples direcciones IP en un corto per√≠odo de tiempo.</li>
                <li><span class="check-icon">‚òë</span> Empleados de departamentos espec√≠ficos para aplicar medidas de seguridad.</li>
                <li><span class="check-icon">‚òë</span> Empleados que a√∫n requieren actualizaciones en sus dispositivos.</li>
            </ul>
            <p>
                Este trabajo demuestra habilidades clave en <strong>seguridad inform√°tica, an√°lisis de datos y optimizaci√≥n de consultas SQL</strong>, proporcionando informaci√≥n cr√≠tica para la protecci√≥n de la infraestructura de TI de una empresa. Se incluyen recomendaciones de seguridad para mitigar posibles amenazas, asegurando un enfoque proactivo en la gesti√≥n de accesos y dispositivos corporativos.
            </p>
        </div>

        <div class="content-card">
            <h2 id="failed-logins-after-hours">Recuperar Intentos de Inicio de Sesi√≥n Fallidos Fuera de Horario</h2>
            <h3>Consulta SQL para identificar intentos de inicio de sesi√≥n fallidos despu√©s del horario laboral:</h3>
<pre><code>SELECT event_id, username, login_date, login_time, country,
       ip_address, success
FROM log_in_attempts
WHERE login_time > '18:00:00'
AND success = 0;
</code></pre>
            <h4>Explicaci√≥n de la consulta:</h4>
            <ol>
                <li><strong><code>SELECT event_id, username, login_date, login_time, country, ip_address, success</code></strong>
                    <p>Extraemos las columnas relevantes de la tabla <code>log_in_attempts</code> para analizar los intentos fallidos.</p>
                </li>
                <li><strong><code>FROM log_in_attempts</code></strong>
                    <p>Especificamos la tabla que contiene los registros de intentos de inicio de sesi√≥n.</p>
                </li>
                <li><strong><code>WHERE login_time > '18:00:00'</code></strong>
                    <p>Filtramos los registros donde la hora del intento de inicio de sesi√≥n (<code>login_time</code>) es despu√©s de las 18:00 (6:00 PM).</p>
                </li>
                <li><strong><code>AND success = 0</code></strong>
                    <p>La columna <code>success</code> es de tipo TINYINT (1), lo que significa que puede almacenar valores 0 (fallido) o 1 (exitoso). Filtramos solo los intentos de inicio de sesi√≥n que fallaron (<code>success = 0</code>).</p>
                </li>
            </ol>
            <h4>Posibles Mejoras y An√°lisis Adicional:</h4>
            <ul class="list-none">
                <li><span class="check-icon">‚úÖ</span> <strong>Ordenar los resultados para priorizar la investigaci√≥n:</strong>
<pre><code>ORDER BY login_date DESC, login_time DESC;
</code></pre>
                    <p>Esto permitir√° ver primero los intentos m√°s recientes.</p>
                </li>
                <li><span class="check-icon">‚úÖ</span> <strong>Investigar intentos desde pa√≠ses inusuales:</strong>
<pre><code>WHERE login_time > '18:00:00'
AND success = 0
AND country NOT IN ('USA', 'Mexico', 'Canada');
</code></pre>
                    <p>Esto ayuda a detectar intentos desde ubicaciones sospechosas.</p>
                </li>
                <li><span class="check-icon">‚úÖ</span> <strong>Cruzar datos con la tabla <code>employees</code> para ver el departamento del usuario:</strong>
<pre><code>SELECT l.event_id, l.username, e.department, l.login_date,
       l.login_time, l.country, l.ip_address
FROM log_in_attempts l
JOIN employees e ON l.username = e.username
WHERE l.login_time > '18:00:00'
AND l.success = 0;
</code></pre>
                    <p>Esto permitir√° identificar si ciertos departamentos est√°n siendo atacados con m√°s frecuencia.</p>
                </li>
            </ul>
            <div class="info-box">
                <h4 class="mb-2 text-blue-100">Conclusi√≥n</h4>
                <p>Esta consulta ayuda a detectar actividad sospechosa fuera del horario laboral, lo que podr√≠a indicar intentos de acceso no autorizados. Si se identifican m√∫ltiples intentos fallidos para el mismo usuario o desde una ubicaci√≥n desconocida, ser√≠a recomendable investigar m√°s a fondo y posiblemente bloquear las direcciones IP sospechosas.</p>
                <p><strong>Acci√≥n recomendada:</strong> Si la consulta devuelve m√∫ltiples intentos fallidos para un mismo usuario desde distintas ubicaciones, es posible que su cuenta est√© siendo objeto de un ataque de fuerza bruta. Se recomienda bloquear temporalmente la cuenta y notificar al usuario afectado.</p>
            </div>
        </div>

        <div class="content-card">
            <h2 id="login-attempts-specific-dates">Recuperar Intentos de Inicio de Sesi√≥n en Fechas Espec√≠ficas</h2>
            <p>Para investigar los intentos de inicio de sesi√≥n que ocurrieron los d√≠as <strong>2022-05-09 y 2022-05-08</strong>, podemos utilizar la cl√°usula <code>WHERE</code> en SQL para filtrar los registros por la columna <code>login_date</code>.</p>
            <h3>Consulta SQL:</h3>
<pre><code>SELECT event_id, username, login_date, login_time, country,
       ip_address, success
FROM log_in_attempts
WHERE login_date IN ('2022-05-09', '2022-05-08');
</code></pre>
            <h4>Explicaci√≥n de la consulta:</h4>
            <ol>
                <li><strong><code>SELECT event_id, username, login_date, login_time, country, ip_address, success</code></strong>
                    <p>Extraemos los datos m√°s relevantes de la tabla <code>log_in_attempts</code> para el an√°lisis.</p>
                </li>
                <li><strong><code>FROM log_in_attempts</code></strong>
                    <p>Especificamos la tabla de la que se tomar√°n los datos.</p>
                </li>
                <li><strong><code>WHERE login_date IN ('2022-05-09', '2022-05-08')</code></strong>
                    <p>Filtramos los registros para obtener solo aquellos intentos de inicio de sesi√≥n que ocurrieron en las fechas 2022-05-09 y 2022-05-08. La cl√°usula <code>IN</code> nos permite especificar m√∫ltiples valores de fecha sin necesidad de usar m√∫ltiples condiciones <code>OR</code>.</p>
                </li>
            </ol>
            <h4>Posibles Mejoras y Extensiones:</h4>
            <ul class="list-none">
                <li><span class="check-icon">‚úÖ</span> <strong>Ordenar los resultados para facilitar el an√°lisis:</strong>
<pre><code>ORDER BY login_date DESC, login_time DESC;
</code></pre>
                    <p>Esto nos ayuda a ver primero los intentos m√°s recientes.</p>
                </li>
                <li><span class="check-icon">‚úÖ</span> <strong>Incluir solo intentos fallidos para detectar posibles ataques:</strong>
<pre><code>WHERE login_date IN ('2022-05-09', '2022-05-08')
AND success = 0;
</code></pre>
                    <p>Esto filtrar√° solo los intentos fallidos (<code>success = 0</code>), lo cual es √∫til para detectar intentos de acceso no autorizados.</p>
                </li>
                <li><span class="check-icon">‚úÖ</span> <strong>Ampliar el rango de fechas si es necesario:</strong>
                    <p>Si queremos incluir m√°s d√≠as antes o despu√©s, podemos usar <code>BETWEEN</code> en lugar de <code>IN</code>:</p>
<pre><code>WHERE login_date BETWEEN '2022-05-07' AND '2022-05-09';
</code></pre>
                </li>
            </ul>
            <div class="info-box">
                <h4 class="mb-2 text-blue-100">Conclusi√≥n</h4>
                <p>Esta consulta permite investigar actividad sospechosa en fechas espec√≠ficas. Si se detectan m√∫ltiples intentos de inicio de sesi√≥n fallidos desde ubicaciones inusuales, esto podr√≠a indicar un posible ataque de fuerza bruta o acceso no autorizado, por lo que se recomienda realizar un an√°lisis m√°s detallado de las IPs y los usuarios involucrados.</p>
            </div>
        </div>

        <div class="content-card">
            <h2 id="login-attempts-outside-mexico">Recuperar Intentos de Inicio de Sesi√≥n Fuera de M√©xico</h2>
            <p>Para investigar los intentos de inicio de sesi√≥n que no se originaron en M√©xico, utilizaremos la cl√°usula <code>WHERE</code> con el operador <strong><code><></code></strong> o <strong><code>NOT IN</code></strong> para excluir a M√©xico de los resultados.</p>
            <h3>Consulta SQL:</h3>
<pre><code>SELECT event_id, username, login_date, login_time, country,
       ip_address, success
FROM log_in_attempts
WHERE country <> 'Mexico';
</code></pre>
            <h4>Explicaci√≥n de la consulta:</h4>
            <ol>
                <li><strong><code>SELECT event_id, username, login_date, login_time, country, ip_address, success</code></strong>
                    <p>Seleccionamos las columnas m√°s relevantes de la tabla <code>log_in_attempts</code> para analizar los registros sospechosos.</p>
                </li>
                <li><strong><code>FROM log_in_attempts</code></strong>
                    <p>Especificamos la tabla de donde extraemos los datos.</p>
                </li>
                <li><strong><code>WHERE country <> 'Mexico'</code></strong>
                    <p>Filtramos los registros para excluir los intentos de inicio de sesi√≥n que provienen de M√©xico (<code><></code> significa "distinto de"). Solo se mostrar√°n los intentos de inicio de sesi√≥n que ocurrieron en otros pa√≠ses.</p>
                </li>
            </ol>
            <h4>Alternativa con <code>NOT IN</code> (si hay m√°s pa√≠ses a excluir):</h4>
            <p>Si en el futuro queremos excluir m√°s pa√≠ses (por ejemplo, M√©xico y EE.UU.), podemos usar <code>NOT IN</code>:</p>
<pre><code>WHERE country NOT IN ('Mexico', 'USA');
</code></pre>
            <h4>Posibles Mejoras y Extensiones:</h4>
            <ul class="list-none">
                <li><span class="check-icon">‚úÖ</span> <strong>Ordenar los intentos de inicio de sesi√≥n por fecha y hora para priorizar la investigaci√≥n:</strong>
<pre><code>ORDER BY login_date DESC, login_time DESC;
</code></pre>
                </li>
                <li><span class="check-icon">‚úÖ</span> <strong>Incluir solo intentos fallidos para detectar posibles ataques:</strong>
<pre><code>WHERE country <> 'Mexico'
AND success = 0;
</code></pre>
                    <p>Esto filtrar√° solo los intentos fallidos (<code>success = 0</code>), lo cual es √∫til para detectar accesos no autorizados.</p>
                </li>
                <li><span class="check-icon">‚úÖ</span> <strong>Ampliar la consulta para ver intentos en un rango de fechas espec√≠fico:</strong>
<pre><code>WHERE country <> 'Mexico'
AND login_date BETWEEN '2024-02-01' AND '2024-02-29';
</code></pre>
                </li>
                <li><span class="check-icon">‚úÖ</span> <strong>Cruzar datos con la tabla <code>employees</code> para obtener informaci√≥n adicional sobre los usuarios:</strong>
<pre><code>SELECT l.event_id, l.username, e.department, l.login_date,
       l.login_time, l.country, l.ip_address
FROM log_in_attempts l
JOIN employees e ON l.username = e.username
WHERE l.country <> 'Mexico';
</code></pre>
                    <p>Esto ayuda a identificar si ciertos departamentos est√°n siendo objetivo de intentos de acceso desde el extranjero.</p>
                </li>
            </ul>
            <div class="info-box">
                <h4 class="mb-2 text-blue-100">Conclusi√≥n</h4>
                <p>Esta consulta nos permitir√° detectar intentos de inicio de sesi√≥n fuera de M√©xico, lo que puede indicar actividad sospechosa si los empleados normalmente inician sesi√≥n solo desde este pa√≠s. Si se identifican intentos recurrentes desde ubicaciones desconocidas, puede ser se√±al de un ataque de fuerza bruta o de credenciales comprometidas, lo que requerir√≠a tomar medidas como bloquear las IPs sospechosas o forzar cambios de contrase√±as.</p>
            </div>
        </div>

        <div class="content-card">
            <h2 id="employees-in-marketing">Recuperar Empleados en Marketing</h2>
            <p>Para obtener informaci√≥n sobre los empleados del departamento de <strong>Marketing que trabajan en cualquier oficina del edificio Este</strong>, podemos utilizar la cl√°usula <code>WHERE</code> con las condiciones adecuadas en SQL.</p>
            <h3>Consulta SQL:</h3>
<pre><code>SELECT employee_id, device_id, username, department, office
FROM employees
WHERE department = 'Marketing'
AND office LIKE 'Este-%';
</code></pre>
            <h4>Explicaci√≥n de la consulta:</h4>
            <ol>
                <li><strong><code>SELECT employee_id, device_id, username, department, office</code></strong>
                    <p>Seleccionamos las columnas relevantes de la tabla <code>employees</code> para identificar a los empleados de Marketing y sus dispositivos.</p>
                </li>
                <li><strong><code>FROM employees</code></strong>
                    <p>Especificamos la tabla de donde se tomar√°n los datos.</p>
                </li>
                <li><strong><code>WHERE department = 'Marketing'</code></strong>
                    <p>Filtramos para obtener solo los empleados cuyo departamento es "Marketing".</p>
                </li>
                <li><strong><code>AND office LIKE 'Este-%'</code></strong>
                    <p>La columna <code>office</code> contiene valores como "Este-170", "Este-320", etc. <code>LIKE 'Este-%'</code> selecciona todas las oficinas que comienzan con "Este-", asegurando que solo obtenemos los empleados del edificio Este, sin importar el n√∫mero de oficina.</p>
                </li>
            </ol>
            <h4>Posibles Mejoras y Extensiones:</h4>
            <ul class="list-none">
                <li><span class="check-icon">‚úÖ</span> <strong>Ordenar los resultados para facilitar la revisi√≥n:</strong>
<pre><code>ORDER BY office, username;
</code></pre>
                    <p>Esto organizar√° la lista por oficina y por nombre de usuario.</p>
                </li>
                <li><span class="check-icon">‚úÖ</span> <strong>Cruzar datos con la tabla <code>machines</code> para obtener detalles sobre los dispositivos de estos empleados:</strong>
<pre><code>SELECT e.employee_id, e.username, e.department, e.office,
       m.device_id, m.operating_system, m.os_patch_date
FROM employees e
JOIN machines m ON e.device_id = m.device_id
WHERE e.department = 'Marketing'
AND e.office LIKE 'Este-%';
</code></pre>
                    <p>Esto nos permitir√° obtener informaci√≥n adicional sobre los sistemas operativos y parches de seguridad de los equipos asignados a estos empleados.</p>
                </li>
            </ul>
            <div class="info-box">
                <h4 class="mb-2 text-blue-100">Conclusi√≥n</h4>
                <p>Esta consulta nos ayudar√° a identificar a los empleados del departamento de Marketing en el edificio Este, lo que es clave para coordinar actualizaciones de seguridad en sus dispositivos. Si encontramos empleados con sistemas desactualizados, podemos priorizar sus m√°quinas para recibir los parches de seguridad lo antes posible.</p>
            </div>
        </div>

        <div class="content-card">
            <h2 id="employees-in-finance-or-sales">Recuperar Empleados en Finanzas o Ventas</h2>
            <h3>Consulta SQL para recuperar empleados en Finanzas o Ventas:</h3>
<pre><code>SELECT employee_id, username, department, device_id, office
FROM employees
WHERE department IN ('Ventas', 'Finanzas');
</code></pre>
            <h4>Explicaci√≥n de la consulta:</h4>
            <ol>
                <li><strong><code>SELECT employee_id, username, department, device_id, office</code></strong>
                    <p>Extraemos las columnas relevantes de la tabla <code>employees</code> para identificar los empleados y sus dispositivos asignados.</p>
                </li>
                <li><strong><code>FROM employees</code></strong>
                    <p>Especificamos que la informaci√≥n proviene de la tabla <code>employees</code>.</p>
                </li>
                <li><strong><code>WHERE department IN ('Ventas', 'Finanzas')</code></strong>
                    <p>Filtramos los registros para incluir solo a los empleados cuyo departamento sea Ventas o Finanzas. La condici√≥n <code>IN ('Ventas', 'Finanzas')</code> es equivalente a usar <code>department = 'Ventas' OR department = 'Finanzas'</code>, pero m√°s eficiente y f√°cil de leer.</p>
                </li>
            </ol>
            <h4>Posibles Mejoras y An√°lisis Adicional:</h4>
            <ul class="list-none">
                <li><span class="check-icon">‚òë</span> <strong>Ordenar los resultados por oficina para facilitar la gesti√≥n:</strong>
<pre><code>ORDER BY office, username;
</code></pre>
                    <p>Esto agrupa los resultados por ubicaci√≥n de la oficina y los ordena alfab√©ticamente por usuario.</p>
                </li>
                <li><span class="check-icon">‚òë</span> <strong>Verificar empleados sin un <code>device_id</code> asignado:</strong>
<pre><code>WHERE department IN ('Ventas', 'Finanzas') AND device_id IS NULL;
</code></pre>
                    <p>Esto ayuda a identificar empleados que no tienen un dispositivo registrado, lo cual puede ser un riesgo de seguridad.</p>
                </li>
                <li><span class="check-icon">‚òë</span> <strong>Cruzar con la tabla <code>log_in_attempts</code> para detectar accesos sospechosos:</strong>
<pre><code>SELECT e.employee_id, e.username, e.department, l.ip_address,
       l.login_date, l.success
FROM employees e
JOIN log_in_attempts l ON e.username = l.username
WHERE e.department IN ('Ventas', 'Finanzas')
AND l.success = 0;
</code></pre>
                    <p>Esto permite ver qu√© empleados de estos departamentos han tenido intentos fallidos de inicio de sesi√≥n recientemente.</p>
                </li>
            </ul>
            <div class="info-box">
                <h4 class="mb-2 text-blue-100">Conclusi√≥n</h4>
                <p>Esta consulta permite identificar a los empleados de Ventas y Finanzas para aplicar actualizaciones de seguridad espec√≠ficas en sus dispositivos. Adem√°s, cruzar esta informaci√≥n con los intentos de acceso puede revelar posibles riesgos de seguridad.</p>
                <p><strong>Acci√≥n recomendada:</strong></p>
                <ul class="list-disc list-inside ml-4">
                    <li>Aplicar parches de seguridad en los dispositivos de estos empleados.</li>
                    <li>Investigar intentos de inicio de sesi√≥n fallidos en estos departamentos.</li>
                    <li>Asegurar que cada empleado tenga un <code>device_id</code> registrado en la base de datos.</li>
                </ul>
            </div>
        </div>

        <div class="content-card">
            <h2 id="employees-not-in-it">Recuperar Todos los Empleados que No Est√°n en TI</h2>
            <h3>Consulta SQL para recuperar a todos los empleados que no est√©n en Tecnolog√≠a de la Informaci√≥n:</h3>
<pre><code>SELECT employee_id, username, department, device_id, office
FROM employees
WHERE department <> 'Tecnolog√≠a de la Informaci√≥n';
</code></pre>
            <h4>Explicaci√≥n de la consulta:</h4>
            <ol>
                <li><strong><code>SELECT employee_id, username, department, device_id, office</code></strong>
                    <p>Extraemos las columnas clave de la tabla <code>employees</code> para identificar a los empleados y sus dispositivos asignados.</p>
                </li>
                <li><strong><code>FROM employees</code></strong>
                    <p>Indicamos que la informaci√≥n proviene de la tabla <code>employees</code>.</p>
                </li>
                <li><strong><code>WHERE department <> 'Tecnolog√≠a de la Informaci√≥n'</code></strong>
                    <p>Excluimos a los empleados que pertenecen al departamento de Tecnolog√≠a de la Informaci√≥n. El operador <code><></code> significa "distinto de", por lo que solo se seleccionar√°n empleados que no est√©n en este departamento.</p>
                </li>
            </ol>
            <h4>Posibles Mejoras y An√°lisis Adicional:</h4>
            <ul class="list-none">
                <li><span class="check-icon">‚úÖ</span> <strong>Ordenar los resultados por departamento para facilitar la gesti√≥n:</strong>
<pre><code>ORDER BY department, office, username;
</code></pre>
                    <p>Esto agrupa los empleados por departamento y oficina, permitiendo aplicar la actualizaci√≥n de manera organizada.</p>
                </li>
                <li><span class="check-icon">‚úÖ</span> <strong>Verificar empleados sin <code>device_id</code> asignado para evitar problemas en la actualizaci√≥n:</strong>
<pre><code>WHERE department <> 'Tecnolog√≠a de la Informaci√≥n' AND device_id IS NULL;
</code></pre>
                    <p>Esto ayuda a identificar empleados que no tienen un dispositivo registrado, lo cual puede requerir una revisi√≥n antes de la actualizaci√≥n.</p>
                </li>
                <li><span class="check-icon">‚úÖ</span> <strong>Cruzar con la tabla <code>log_in_attempts</code> para verificar intentos de acceso recientes:</strong>
<pre><code>SELECT e.employee_id, e.username, e.department, l.ip_address,
       l.login_date, l.success
FROM employees e
JOIN log_in_attempts l ON e.username = l.username
WHERE e.department <> 'Tecnolog√≠a de la Informaci√≥n'
AND l.success = 0;
</code></pre>
                    <p>Esto permite identificar si alguno de estos empleados ha tenido intentos fallidos de inicio de sesi√≥n, lo que podr√≠a indicar problemas de seguridad.</p>
                </li>
            </ul>
            <div class="error-box">
                <h4 class="mb-2 text-red-100"><span class="alert-icon">üö®</span> Conclusi√≥n</h4>
                <p>Esta consulta permite identificar a los empleados que a√∫n necesitan actualizaciones en sus dispositivos, asegurando que solo aquellos fuera del departamento de TI reciban los parches correspondientes. Estas consultas permiten mejorar la seguridad del sistema y optimizar la gesti√≥n de accesos y dispositivos en la empresa. <span class="rocket-icon">üöÄ</span></p>
            </div>
        </div>
    </div>
  </section>

  <footer>
    <div class="container">¬© <span id="y"></span> Michel Mac√≠as ¬∑ Ciberseguridad
      <span class="muted" style="float:right">Hecho con GitHub Pages</span>
    </div>
  </footer>
  <script>document.getElementById('y').textContent=new Date().getFullYear()</script>
</body>
</html>